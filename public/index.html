<!DOCTYPE html>
<html>
<head>
<title>Speech Input API experiment (Brain Age Color Game Clone)</title>
<style type="text/css">
  .black { color: black;}
  .blue { color: blue;}
  .red { color: red; }
  .yellow { color: yellow;}
</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
  $(function() {
    nextColor();
  });
  
  var colors = ['red', 'black', 'yellow', 'blue']
  //Say try again if it's invalid
  function run() {
    if ($('input').val() == $('h1').html()) {
      $('p').html('Good Job!');
      nextColor();
    } else {
      $('p').html('Try again you animal!');
    }
  }
  
  function nextColor() {
    $('h1')
      .html(colors[getRandomInt(0, 3)])
      .removeClass('red black yellow blue')
      .addClass(colors[getRandomInt(0, 3)]);
  }
  
  function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
  }
</script>
</head>
<body>
  <p>This only works in Chrome 11</p>
  <input type="text" x-webkit-speech onwebkitspeechchange='run()' />
    
    <h1></h1>

    <!-- References 
    https://docs.google.com/View?id=dcfg79pz_5dhnp23f5
    http://src.chromium.org/viewvc/chrome/trunk/src/chrome/browser/speech/
    http://www.w3.org/2005/Incubator/htmlspeech/2010/10/google-api-draft.html#speech_input_result_interface
    -->
  </body>
</html>